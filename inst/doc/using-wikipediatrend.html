<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Peter Meißner" />

<meta name="date" content="2015-06-06" />

<title>Using Wikipediatrend</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E35%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%200%200%2010px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dleft%3A%205px%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D2em%3B%0A%20%20%7D%0A%20%20%23TOC%20li%20%7B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%2Dstyle%3A%20none%3B%0A%20%20border%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%202px%200px%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%202px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20margin%3A%200%205px%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20font%2Dsize%3A%2035px%3B%0A%20%20line%2Dheight%3A%2040px%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">Using Wikipediatrend</h1>
<h4 class="author"><em>Peter Meißner</em></h4>
<h4 class="date"><em>2015-06-06</em></h4>
</div>

<div id="TOC">
<ul>
<li><a href="#installation"><span class="toc-section-number">1</span> Installation</a></li>
<li><a href="#a-first-try"><span class="toc-section-number">2</span> A first try</a></li>
<li><a href="#wp_trend-options"><span class="toc-section-number">3</span> <code>wp_trend()</code> options</a><ul>
<li><a href="#page"><span class="toc-section-number">3.1</span> <code>page</code></a></li>
<li><a href="#from-and-to"><span class="toc-section-number">3.2</span> <code>from</code> and <code>to</code></a></li>
<li><a href="#lang"><span class="toc-section-number">3.3</span> <code>lang</code></a></li>
<li><a href="#file"><span class="toc-section-number">3.4</span> <code>file</code></a></li>
</ul></li>
<li><a href="#caching"><span class="toc-section-number">4</span> Caching</a><ul>
<li><a href="#session-caching"><span class="toc-section-number">4.1</span> Session caching</a></li>
<li><a href="#caching-across-sessions-1"><span class="toc-section-number">4.2</span> Caching across sessions 1</a></li>
<li><a href="#caching-across-sessions-2"><span class="toc-section-number">4.3</span> Caching across sessions 2</a></li>
</ul></li>
<li><a href="#counts-for-other-languages"><span class="toc-section-number">5</span> Counts for other languages</a></li>
<li><a href="#going-beyond-wikipediatrend-anomalies-and-mean-shifts"><span class="toc-section-number">6</span> Going beyond Wikipediatrend – Anomalies and mean shifts</a><ul>
<li><a href="#identifying-anomalies-with-anomalydetection"><span class="toc-section-number">6.1</span> Identifying anomalies with <code>AnomalyDetection</code></a></li>
<li><a href="#identifying-mean-shifts-with-breakoutdetection"><span class="toc-section-number">6.2</span> Identifying mean shifts with <code>BreakoutDetection</code></a></li>
</ul></li>
</ul>
</div>

<blockquote>
<p>What do Wikipedia’s readers care about? Is Britney Spears more popular than Brittany? Is Asia Carrera more popular than Asia? How many people looked at the article on Santa Claus in December? How many looked at the article on Ron Paul? <br> What can you find? <br> <em>Source:</em> <a href="http://stats.grok.se/" class="uri">http://stats.grok.se/</a></p>
</blockquote>
<p>The <em>wikipediatrend</em> package provides convenience access to daily page view counts (<em>Wikipedia article traffic statistics</em>) stored at <a href="http://stats.grok.se/" class="uri">http://stats.grok.se/</a> .</p>
<p>If you want to know how often an article has been viewed over time and work with the data from within R, this package is for you. Maybe you want to compare how much attention articles from different languages got and when, this package is for you. Are you up to policy studies or epidemiology? Have a look at page counts for <em>Flue</em>, <em>Ebola</em>, <em>Climate Change</em> or <em>Millennium Development Goals</em> and maybe build a model or two. Again, this package is for you.</p>
<p>If you simply want to browse Wikipedia page view statistics without all that coding, visit <a href="http://stats.grok.se/" class="uri">http://stats.grok.se/</a> and have a look around.</p>
<p>If non-big data is not an option, get the raw data in their entity at <a href="http://dumps.wikimedia.org/other/pagecounts-raw/" class="uri">http://dumps.wikimedia.org/other/pagecounts-raw/</a> .</p>
<p>If you think days are crude measures of time but seconds might do if need be and info about which article views led to the numbers is useless anyways - go to <a href="http://datahub.io/dataset/english-wikipedia-pageviews-by-second" class="uri">http://datahub.io/dataset/english-wikipedia-pageviews-by-second</a>.</p>
<p>To get further information on the data source (Who? When? How? How good?) there is a Wikipedia article for that: <a href="http://en.wikipedia.org/wiki/Wikipedia:Pageview_statistics" class="uri">http://en.wikipedia.org/wiki/Wikipedia:Pageview_statistics</a> and another one: <a href="http://en.wikipedia.org/wiki/Wikipedia:About_page_view_statistics" class="uri">http://en.wikipedia.org/wiki/Wikipedia:About_page_view_statistics</a> .</p>
<div id="installation" class="section level1">
<h1><span class="header-section-number">1</span> Installation</h1>
<p><strong>stable CRAN version</strong></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;wikipediatrend&quot;</span>)</code></pre>
<p><strong>developemnt version</strong></p>
<pre class="sourceCode r"><code class="sourceCode r">devtools::<span class="kw">install_github</span>(<span class="st">&quot;petermeissner/wikipediatrend&quot;</span>)</code></pre>
<p><strong>… and load it via:</strong></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(wikipediatrend)</code></pre>
</div>
<div id="a-first-try" class="section level1">
<h1><span class="header-section-number">2</span> A first try</h1>
<p>The workhorse of the package is the <code>wp_trend()</code> function that allows you to get page view counts as neat data frames like this:</p>
<pre class="sourceCode r"><code class="sourceCode r">page_views &lt;-<span class="st"> </span><span class="kw">wp_trend</span>(<span class="st">&quot;main_page&quot;</span>)
    
page_views</code></pre>
<pre><code>##    date       count    lang page      rank month  title    
## 3  2015-05-01 15195088 en   Main_page 2    201505 Main_page
## 2  2015-05-02 13800408 en   Main_page 2    201505 Main_page
## 1  2015-05-03 19462469 en   Main_page 2    201505 Main_page
## 7  2015-05-04 21295053 en   Main_page 2    201505 Main_page
## 6  2015-05-05 21338940 en   Main_page 2    201505 Main_page
## 5  2015-05-06 21198056 en   Main_page 2    201505 Main_page
## 4  2015-05-07 20128000 en   Main_page 2    201505 Main_page
## 11 2015-05-08 17191834 en   Main_page 2    201505 Main_page
## 10 2015-05-09 19560505 en   Main_page 2    201505 Main_page
## 26 2015-05-10 21168444 en   Main_page 2    201505 Main_page
## 27 2015-05-11 22101221 en   Main_page 2    201505 Main_page
## 28 2015-05-12 22320344 en   Main_page 2    201505 Main_page
## 29 2015-05-13 20420337 en   Main_page 2    201505 Main_page
## 23 2015-05-15 17176625 en   Main_page 2    201505 Main_page
## 24 2015-05-16 15845474 en   Main_page 2    201505 Main_page
## 25 2015-05-17 21462364 en   Main_page 2    201505 Main_page
## 20 2015-05-18 23386371 en   Main_page 2    201505 Main_page
## 21 2015-05-19 22999646 en   Main_page 2    201505 Main_page
## 9  2015-05-20 22486802 en   Main_page 2    201505 Main_page
## 8  2015-05-21 19693422 en   Main_page 2    201505 Main_page
## 19 2015-05-22 16096041 en   Main_page 2    201505 Main_page
## 18 2015-05-23 20243939 en   Main_page 2    201505 Main_page
## 13 2015-05-24 43322132 en   Main_page 2    201505 Main_page
## 12 2015-05-25 21908990 en   Main_page 2    201505 Main_page
## 15 2015-05-26 21954108 en   Main_page 2    201505 Main_page
## 14 2015-05-27 22918926 en   Main_page 2    201505 Main_page
## 16 2015-05-28 19572988 en   Main_page 2    201505 Main_page
## 31 2015-05-29 15049919 en   Main_page 2    201505 Main_page
## 30 2015-05-30 20611835 en   Main_page 2    201505 Main_page
## 
## ... 2 rows of data not shown</code></pre>
<p>… that can easily be turned into a plot …</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)

<span class="kw">ggplot</span>(page_views, <span class="kw">aes</span>(<span class="dt">x=</span>date, <span class="dt">y=</span>count)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">size=</span><span class="fl">1.5</span>, <span class="dt">colour=</span><span class="st">&quot;steelblue&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;loess&quot;</span>, <span class="dt">colour=</span><span class="st">&quot;#00000000&quot;</span>, <span class="dt">fill=</span><span class="st">&quot;#001090&quot;</span>, <span class="dt">alpha=</span><span class="fl">0.1</span>) +
<span class="st">  </span><span class="kw">scale_y_continuous</span>( <span class="dt">breaks=</span><span class="kw">c</span>(<span class="fl">10e6</span>, <span class="fl">15e6</span>, <span class="fl">20e6</span>), 
  <span class="dt">label=</span><span class="kw">c</span>(<span class="st">&quot;10 M&quot;</span>,<span class="st">&quot;15 M&quot;</span>,<span class="st">&quot;20 M&quot;</span>)) +
<span class="st">  </span><span class="kw">theme_bw</span>()</code></pre>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
</div>
<div id="wp_trend-options" class="section level1">
<h1><span class="header-section-number">3</span> <code>wp_trend()</code> options</h1>
<p><code>wp_trend()</code> has several options and most of them are set to defaults:</p>
<p>page , from = prev_month_start(), to = prev_month_end(), lang = “en”, file = wp_cache_file(),</p>
<ul>
<li><code>page</code></li>
<li><code>from = Sys.Date() - 30</code></li>
<li><code>to   = Sys.Date()</code></li>
<li><code>lang = &quot;en&quot;</code></li>
<li><code>file = wp_cache_file()</code></li>
<li><del><code>friendly</code></del> <em>deprecated</em></li>
<li><del><code>requestFrom</code></del> <em>deprecated</em></li>
<li><del><code>userAgent</code></del> <em>deprecated</em></li>
</ul>
<div id="page" class="section level2">
<h2><span class="header-section-number">3.1</span> <code>page</code></h2>
<p>The <code>page</code> option allows to specify one or more article titles for which data should be retrieved.</p>
<p>These titles should be in the same format as shown in the address bar of your browser to ensure that the pages are found. If we want to get page views for the United Nations Millennium Development Goals and the article is found here: <em>“<a href="http://en.wikipedia.org/wiki/Millennium_Development_Goals" class="uri">http://en.wikipedia.org/wiki/Millennium_Development_Goals</a>”</em> the page title to pass to <code>wp_trend()</code> should be <em>Millennium_Development_Goals</em> not <em>Millennium Development Goals</em> or <em>Millennium_development_goals</em> or amy other <em>‘mostly-like-the-original’</em> variation.</p>
<p>To ease data gathering <code>wp_trend()</code> <code>page</code> accepts whole vectors of page titles and will retrieve date for each one after another.</p>
<pre class="sourceCode r"><code class="sourceCode r">page_views &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw">wp_trend</span>( 
    <span class="dt">page =</span> <span class="kw">c</span>( <span class="st">&quot;Millennium_Development_Goals&quot;</span>, <span class="st">&quot;Climate_Change&quot;</span>) 
  )</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)

<span class="kw">ggplot</span>(page_views, <span class="kw">aes</span>(<span class="dt">x=</span>date, <span class="dt">y=</span>count, <span class="dt">group=</span>page, <span class="dt">color=</span>page)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">size=</span><span class="fl">1.5</span>) +<span class="st"> </span><span class="kw">theme_bw</span>()</code></pre>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
</div>
<div id="from-and-to" class="section level2">
<h2><span class="header-section-number">3.2</span> <code>from</code> and <code>to</code></h2>
<p>These two options determine the time frame for which data shall be retrieved. The defaults are set to gather the last 30 days but might be set to cover larger time frames as well. Note that there is no data prior to December 2007 so that any date prior will be set to this minimum.</p>
<pre class="sourceCode r"><code class="sourceCode r">page_views &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw">wp_trend</span>( 
    <span class="dt">page =</span> <span class="st">&quot;Millennium_Development_Goals&quot;</span> ,
    <span class="dt">from =</span> <span class="st">&quot;2000-01-01&quot;</span>,
    <span class="dt">to   =</span> <span class="kw">prev_month_end</span>()
  )</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)

<span class="kw">ggplot</span>(page_views, <span class="kw">aes</span>(<span class="dt">x=</span>date, <span class="dt">y=</span>count, <span class="dt">color=</span><span class="kw">wp_year</span>(date))) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_line</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">stat_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">formula =</span> y ~<span class="st"> </span><span class="kw">poly</span>(x, <span class="dv">22</span>), <span class="dt">color=</span><span class="st">&quot;#CD0000a0&quot;</span>, <span class="dt">size=</span><span class="fl">1.2</span>) +
<span class="st">  </span><span class="kw">theme_bw</span>() </code></pre>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
</div>
<div id="lang" class="section level2">
<h2><span class="header-section-number">3.3</span> <code>lang</code></h2>
<p>This option determines for which Wikipedia the page views shall be retrieved, English, German, Chinese, Spanish, … . The default is set to <code>&quot;en&quot;</code> for the English Wikipedia. This option should get one language shorthand that then is used for all pages or for each page a corresponding language shorthand should be specified.</p>
<pre class="sourceCode r"><code class="sourceCode r">page_views &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw">wp_trend</span>( 
    <span class="dt">page =</span> <span class="kw">c</span>(<span class="st">&quot;Objetivos_de_Desarrollo_del_Milenio&quot;</span>, <span class="st">&quot;Millennium_Development_Goals&quot;</span>) ,
    <span class="dt">lang =</span> <span class="kw">c</span>(<span class="st">&quot;es&quot;</span>, <span class="st">&quot;en&quot;</span>),
    <span class="dt">from =</span> <span class="kw">Sys.Date</span>()-<span class="dv">100</span>
  )</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)

<span class="kw">ggplot</span>(page_views, <span class="kw">aes</span>(<span class="dt">x=</span>date, <span class="dt">y=</span>count, <span class="dt">group=</span>lang, <span class="dt">color=</span>lang, <span class="dt">fill=</span>lang)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">size=</span><span class="fl">1.5</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">theme_bw</span>() </code></pre>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
</div>
<div id="file" class="section level2">
<h2><span class="header-section-number">3.4</span> <code>file</code></h2>
<p>This last option allows for storing the data retrieved by a call to <code>wp_trend()</code> in a file, e.g. <code>file = &quot;MyCache.csv&quot;</code>. While <code>MyCache.csv</code> will be created if it does not exist already it will never be overwritten by <code>wp_trend()</code> thus allowing to accumulate data from susequent calls to <code>wp_trend()</code>. To get the data stored back into R use <code>wp_load(file = &quot;MyCache.csv&quot;)</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wp_trend</span>(<span class="st">&quot;Cheese&quot;</span>, <span class="dt">file=</span><span class="st">&quot;cheeeeese.csv&quot;</span>)
<span class="kw">wp_trend</span>(<span class="st">&quot;Käse&quot;</span>, <span class="dt">lang=</span><span class="st">&quot;de&quot;</span>, <span class="dt">file=</span><span class="st">&quot;cheeeeese.csv&quot;</span>)

cheeeeeese &lt;-<span class="st"> </span><span class="kw">wp_load</span>( <span class="dt">file=</span><span class="st">&quot;cheeeeese.csv&quot;</span> )
cheeeeeese</code></pre>
<pre><code>##    date       count lang page      rank month  title 
## 33 2015-05-02  179  de   K%C3%A4se 6057 201505 Käse  
## 32 2015-05-03  261  de   K%C3%A4se 6057 201505 Käse  
## 35 2015-05-07  319  de   K%C3%A4se 6057 201505 Käse  
## 41 2015-05-09  193  de   K%C3%A4se 6057 201505 Käse  
## 58 2015-05-11  297  de   K%C3%A4se 6057 201505 Käse  
## 59 2015-05-12  356  de   K%C3%A4se 6057 201505 Käse  
## 53 2015-05-14  218  de   K%C3%A4se 6057 201505 Käse  
## 55 2015-05-16  201  de   K%C3%A4se 6057 201505 Käse  
## 56 2015-05-17  239  de   K%C3%A4se 6057 201505 Käse  
## 51 2015-05-18  267  de   K%C3%A4se 6057 201505 Käse  
## 52 2015-05-19  324  de   K%C3%A4se 6057 201505 Käse  
## 39 2015-05-21  366  de   K%C3%A4se 6057 201505 Käse  
## 49 2015-05-23  173  de   K%C3%A4se 6057 201505 Käse  
## 44 2015-05-24  450  de   K%C3%A4se 6057 201505 Käse  
## 43 2015-05-25  295  de   K%C3%A4se 6057 201505 Käse  
## 46 2015-05-26  250  de   K%C3%A4se 6057 201505 Käse  
## 61 2015-05-30  226  de   K%C3%A4se 6057 201505 Käse  
## 2  2015-05-02 1409  en   Cheese    705  201505 Cheese
## 1  2015-05-03 1642  en   Cheese    705  201505 Cheese
## 6  2015-05-05 2053  en   Cheese    705  201505 Cheese
## 5  2015-05-06 2165  en   Cheese    705  201505 Cheese
## 4  2015-05-07 2983  en   Cheese    705  201505 Cheese
## 28 2015-05-12 2066  en   Cheese    705  201505 Cheese
## 22 2015-05-14 2040  en   Cheese    705  201505 Cheese
## 25 2015-05-17 1421  en   Cheese    705  201505 Cheese
## 21 2015-05-19 1982  en   Cheese    705  201505 Cheese
## 18 2015-05-23 1205  en   Cheese    705  201505 Cheese
## 15 2015-05-26 1877  en   Cheese    705  201505 Cheese
## 31 2015-05-29 1696  en   Cheese    705  201505 Cheese
## 
## ... 33 rows of data not shown</code></pre>
</div>
</div>
<div id="caching" class="section level1">
<h1><span class="header-section-number">4</span> Caching</h1>
<div id="session-caching" class="section level2">
<h2><span class="header-section-number">4.1</span> Session caching</h2>
<p>When using <code>wp_trend()</code> you will notice that subsequent calls to the function might take considerably less time than previous calls - given that later calls include data that has been downloaded already. This is due to the caching system running in the background and keeping track of things downloaded already. You can see if <code>wp_trend()</code> had to download something if it reports one or more links to the stats.grok.se server, e.g. …</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wp_trend</span>(<span class="st">&quot;Cheese&quot;</span>)</code></pre>
<pre><code>## http://stats.grok.se/json/en/201505/Cheese</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wp_trend</span>(<span class="st">&quot;Cheese&quot;</span>)</code></pre>
<p>… but …</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wp_trend</span>(<span class="st">&quot;Cheese&quot;</span>, <span class="dt">from =</span> <span class="kw">Sys.Date</span>()-<span class="dv">60</span>)</code></pre>
<pre><code>## http://stats.grok.se/json/en/201504/Cheese</code></pre>
<p>The current cache in memory can be accessed via:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wp_get_cache</span>()</code></pre>
<pre><code>##      date       count    lang page             rank month 
## 3280 2015-01-20       52 ar   %D8%AF%D8%A7 ... -1   201501
## 3329 2015-03-08     2110 ar   %D8%AF%D8%A7 ... -1   201503
## 3379 2014-08-21    18755 de   Islamischer_ ... -1   201408
## 3409 2014-09-14    14530 de   Islamischer_ ... -1   201409
## 3543 2015-01-05     2912 de   Islamischer_ ... -1   201501
## 3604 2015-03-20     3554 de   Islamischer_ ... -1   201503
## 6304 2015-04-26     1674 en   Cheese           705  201504
## 6267 2015-05-06     2165 en   Cheese           705  201505
## 3021 2015-02-06    69654 en   Islamic_Stat ... -1   201502
## 1150 2009-05-10      496 en   Millennium_D ... 7435 200905
## 1208 2009-07-14      493 en   Millennium_D ... 7435 200907
## 1795 2011-03-14     1832 en   Millennium_D ... 7435 201103
## 2114 2012-01-15     1139 en   Millennium_D ... 7435 201201
## 2355 2012-09-23     1668 en   Millennium_D ... 7435 201209
## 2537 2013-03-28     2341 en   Millennium_D ... 7435 201303
## 2621 2013-06-11     2712 en   Millennium_D ... 7435 201306
## 2616 2013-06-16     1920 en   Millennium_D ... 7435 201306
## 2796 2013-11-18     2837 en   Millennium_D ... 7435 201311
## 429  2014-12-23      798 en   Millennium_D ... 7435 201412
## 473  2015-01-04      840 en   Millennium_D ... 7435 201501
## 4868 2011-11-01     8578 en   Syria            1802 201111
## 4949 2012-01-19     6412 en   Syria            1802 201201
## 5262 2012-12-14    10552 en   Syria            1802 201212
## 5322 2013-02-13     6295 en   Syria            1802 201302
## 5811 2014-06-12     6170 en   Syria            1802 201406
## 5929 2014-10-03     5323 en   Syria            1802 201410
## 3827 2015-01-23      320 es   Estado_Isl%C ... -1   201501
## 3837 2015-02-25      368 es   Estado_Isl%C ... -1   201502
## 577  2015-03-18      756 es   Objetivos_de ... 4160 201503
##      title           
## 3280 &lt;U+062F&gt;&lt;U+0627&gt;&lt;U+0639&gt;&lt;U+0634&gt;
## 3329 &lt;U+062F&gt;&lt;U+0627&gt;&lt;U+0639&gt;&lt;U+0634&gt;
## 3379 Islamischer_ ...
## 3409 Islamischer_ ...
## 3543 Islamischer_ ...
## 3604 Islamischer_ ...
## 6304 Cheese          
## 6267 Cheese          
## 3021 Islamic_Stat ...
## 1150 Millennium_D ...
## 1208 Millennium_D ...
## 1795 Millennium_D ...
## 2114 Millennium_D ...
## 2355 Millennium_D ...
## 2537 Millennium_D ...
## 2621 Millennium_D ...
## 2616 Millennium_D ...
## 2796 Millennium_D ...
## 429  Millennium_D ...
## 473  Millennium_D ...
## 4868 Syria           
## 4949 Syria           
## 5262 Syria           
## 5322 Syria           
## 5811 Syria           
## 5929 Syria           
## 3827 Estado_Islám ...
## 3837 Estado_Islám ...
## 577  Objetivos_de ...
## 
## ... 6294 rows of data not shown</code></pre>
<p>… and emptied by a call to <code>wp_cache_reset()</code>.</p>
</div>
<div id="caching-across-sessions-1" class="section level2">
<h2><span class="header-section-number">4.2</span> Caching across sessions 1</h2>
<p>While everything that is downloaded during a session is cached in memory it might come handy to save the cache parallel on disk to reuse it in the next R session. To activate disk-caching for a session simply use:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wp_set_cache_file</span>( <span class="dt">file =</span> <span class="st">&quot;myCache.csv&quot;</span> )</code></pre>
<p>The function will reload whatever is stored in the file and in subsequent calls to <code>wp_trend()</code> will automatically add data as it is downloaded. The file used for disk-caching can be changed by another call to <code>wp_set_cache_file( file = &quot;myOtherCache.csv&quot;)</code> or turned off completely by leaving the <code>file</code> argument empty.</p>
</div>
<div id="caching-across-sessions-2" class="section level2">
<h2><span class="header-section-number">4.3</span> Caching across sessions 2</h2>
<p>If disk-caching should be enabled by default one can define a path as system/environment variable <code>WP_CACHE_FILE</code>. When loading the package it will look for this variable via <code>Sys.getenv(&quot;WP_CACHE_FILE&quot;)</code> and use the path for caching as if …</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wp_set_cache_file</span>( <span class="kw">Sys.getenv</span>(<span class="st">&quot;WP_CACHE_FILE&quot;</span>) )</code></pre>
<p>.. would have beend typed in by the user.</p>
</div>
</div>
<div id="counts-for-other-languages" class="section level1">
<h1><span class="header-section-number">5</span> Counts for other languages</h1>
<p>If comparing languages is important one needs to specify the exact article titles for each language: While the article about the Millennium Goals has an English title in the English Wikipedia, it of course is named differently in Spanish, German, Chinese, … . One might look these titles up by hand or use the handy <code>wp_linked_pages()</code> function like this:</p>
<pre class="sourceCode r"><code class="sourceCode r">titles &lt;-<span class="st"> </span><span class="kw">wp_linked_pages</span>(<span class="st">&quot;Islamic_State_of_Iraq_and_the_Levant&quot;</span>, <span class="st">&quot;en&quot;</span>)
titles &lt;-<span class="st"> </span>titles[titles$lang %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;en&quot;</span>, <span class="st">&quot;de&quot;</span>, <span class="st">&quot;es&quot;</span>, <span class="st">&quot;ar&quot;</span>, <span class="st">&quot;ru&quot;</span>),]
titles </code></pre>
<pre><code>##   page             lang title           
## 1 Islamic_Stat ... en   Islamic_Stat ...
## 2 %D8%AF%D8%A7 ... ar   &lt;U+062F&gt;&lt;U+0627&gt;&lt;U+0639&gt;&lt;U+0634&gt;
## 3 Islamischer_ ... de   Islamischer_ ...
## 4 Estado_Isl%C ... es   Estado_Islám ...
## 5 %D0%98%D1%81 ... ru   &lt;U+0418&gt;&lt;U+0441&gt;&lt;U+043B&gt;&lt;U+0430&gt;&lt;U+043C&gt;&lt;U+0441&gt;&lt;U+043A&gt;&lt;U+043E&gt;&lt;U+0435&gt;_&lt;U+0433&gt;&lt;U+043E&gt; ...</code></pre>
<p>… then we can use the information to get data for several languages …</p>
<pre class="sourceCode r"><code class="sourceCode r">page_views &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw">wp_trend</span>(
    <span class="dt">page =</span> titles$page[<span class="dv">1</span>:<span class="dv">5</span>], 
    <span class="dt">lang =</span> titles$lang[<span class="dv">1</span>:<span class="dv">5</span>],
    <span class="dt">from =</span> <span class="st">&quot;2014-08-01&quot;</span>
  )</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)

for(i in <span class="kw">unique</span>(page_views$lang) ){
  iffer &lt;-<span class="st"> </span>page_views$lang==i
  page_views[iffer, ]$count &lt;-<span class="st"> </span><span class="kw">scale</span>(page_views[iffer, ]$count)
}

<span class="kw">ggplot</span>(page_views, <span class="kw">aes</span>(<span class="dt">x=</span>date, <span class="dt">y=</span>count, <span class="dt">group=</span>lang, <span class="dt">color=</span>lang)) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">size=</span><span class="fl">1.2</span>, <span class="dt">alpha=</span><span class="fl">0.5</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;standardized count</span><span class="ch">\n</span><span class="st">(by lang: m=0, var=1)&quot;</span>) +
<span class="st">  </span><span class="kw">theme_bw</span>() +<span class="st"> </span>
<span class="st">  </span><span class="kw">scale_colour_brewer</span>(<span class="dt">palette=</span><span class="st">&quot;Set1&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">guides</span>(<span class="dt">colour =</span> <span class="kw">guide_legend</span>(<span class="dt">override.aes =</span> <span class="kw">list</span>(<span class="dt">alpha =</span> <span class="dv">1</span>)))</code></pre>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
</div>
<div id="going-beyond-wikipediatrend-anomalies-and-mean-shifts" class="section level1">
<h1><span class="header-section-number">6</span> Going beyond Wikipediatrend – Anomalies and mean shifts</h1>
<div id="identifying-anomalies-with-anomalydetection" class="section level2">
<h2><span class="header-section-number">6.1</span> Identifying anomalies with <code>AnomalyDetection</code></h2>
<p>Currently the <code>AnomalyDetection</code> package is not availible on CRAN so we have to use <code>install_github()</code> from the <code>devtools</code> package to get it.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages( &quot;AnomalyDetection&quot;, repos=&quot;http://ghrr.github.io/drat&quot;,  type=&quot;source&quot;)</span>
<span class="kw">library</span>(AnomalyDetection)
<span class="kw">library</span>(dplyr)</code></pre>
<pre><code>## 
## Attaching package: 'dplyr'
## 
## The following object is masked from 'package:stats':
## 
##     filter
## 
## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)</code></pre>
<p>The package is a little picky about the data it accepts for processing so we have to build a new data frame. It should contain only the date and count variable. Furthermore, <code>date</code> should be named <code>timestamp</code> and transformed to type <code>POSIXct</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">page_views &lt;-<span class="st"> </span><span class="kw">wp_trend</span>(<span class="st">&quot;Syria&quot;</span>, <span class="dt">from =</span> <span class="st">&quot;2010-01-01&quot;</span>)</code></pre>
<pre><code>## http://stats.grok.se/json/en/201505/Syria</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">page_views_br &lt;-<span class="st"> </span>
<span class="st">  </span>page_views  %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(date, count)  %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">rename</span>(<span class="dt">timestamp=</span>date)  %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">unclass</span>()  %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">as.data.frame</span>() %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">timestamp =</span> <span class="kw">as.POSIXct</span>(timestamp))</code></pre>
<p>Having transformed the data we can detect anomalies via <code>AnomalyDetectionTs()</code>. The function offers various options e.g. the significance level for rejecting normal values (<code>alpha</code>); the maximum fraction of the data that is allowed to be detected as anomalies (<code>max_amoms</code>); whether or not upward deviations, downward devaitions or irregularities in both directions might form the basis of anomaly detection (<code>direction</code>) and last but not least whether or not the time frame for detection is larger than one month (<code>lonterm</code>).</p>
<p>Lets choose a greedy set of parameters and detect possible anomalies:</p>
<pre class="sourceCode r"><code class="sourceCode r">res &lt;-<span class="st"> </span>
<span class="kw">AnomalyDetectionTs</span>(
  <span class="dt">x         =</span> page_views_br, 
  <span class="dt">alpha     =</span> <span class="fl">0.05</span>, 
  <span class="dt">max_anoms =</span> <span class="fl">0.40</span>,
  <span class="dt">direction =</span> <span class="st">&quot;both&quot;</span>,
  <span class="dt">longterm  =</span> T
)$anoms

res$timestamp &lt;-<span class="st"> </span><span class="kw">as.Date</span>(res$timestamp)

<span class="kw">head</span>(res)</code></pre>
<pre><code>##    timestamp anoms
## 1 2010-02-02  5567
## 2 2010-02-04  5191
## 3 2010-01-23     0
## 4 2010-02-03  4322
## 5 2010-02-01  3918
## 6 2010-02-08     0</code></pre>
<p>… and play back the detected anomalies to our <code>page_views</code> data set:</p>
<pre class="sourceCode r"><code class="sourceCode r">page_views &lt;-<span class="st"> </span>
<span class="st">  </span>page_views  %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">normal =</span> !(page_views$date %in%<span class="st"> </span>res$timestamp))  %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">anom   =</span>   page_views$date %in%<span class="st"> </span>res$timestamp )

<span class="kw">class</span>(page_views) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;wp_df&quot;</span>, <span class="st">&quot;data.frame&quot;</span>)</code></pre>
<p>Now we can plot counts and anomalies …</p>
<pre class="sourceCode r"><code class="sourceCode r">(
  p &lt;-
<span class="st">    </span><span class="kw">ggplot</span>( <span class="dt">data=</span>page_views, <span class="kw">aes</span>(<span class="dt">x=</span>date, <span class="dt">y=</span>count) ) +<span class="st"> </span>
<span class="st">      </span><span class="kw">geom_line</span>(<span class="dt">color=</span><span class="st">&quot;steelblue&quot;</span>) +
<span class="st">      </span><span class="kw">geom_point</span>(<span class="dt">data=</span><span class="kw">filter</span>(page_views, anom==T), <span class="dt">color=</span><span class="st">&quot;red2&quot;</span>, <span class="dt">size=</span><span class="dv">2</span>) +
<span class="st">      </span><span class="kw">theme_bw</span>()
)</code></pre>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
<p>… as well as compare running means:</p>
<pre class="sourceCode r"><code class="sourceCode r">p +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">stat =</span> <span class="st">&quot;smooth&quot;</span>, <span class="dt">size=</span><span class="dv">2</span>, <span class="dt">color=</span><span class="st">&quot;red2&quot;</span>, <span class="dt">alpha=</span><span class="fl">0.7</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">data=</span><span class="kw">filter</span>(page_views, anom==F), 
  <span class="dt">stat =</span> <span class="st">&quot;smooth&quot;</span>, <span class="dt">size=</span><span class="dv">2</span>, <span class="dt">color=</span><span class="st">&quot;dodgerblue4&quot;</span>, <span class="dt">alpha=</span><span class="fl">0.5</span>) </code></pre>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
<p>It seems like upward and downward anomalies partial each other out most of the time since both smooth lines (with and without anomalies) do not differ much. Nonetheless, keeping anomalies in will upward bias the counts slightly, so we proceed with a cleaned up data set:</p>
<pre class="sourceCode r"><code class="sourceCode r">page_views_clean &lt;-<span class="st"> </span>
<span class="st">  </span>page_views  %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(anom==F)  %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(date, count, lang, page, rank, month, title)

page_views_br_clean &lt;-<span class="st"> </span>
<span class="st">  </span>page_views_br  %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(page_views$anom==F)</code></pre>
</div>
<div id="identifying-mean-shifts-with-breakoutdetection" class="section level2">
<h2><span class="header-section-number">6.2</span> Identifying mean shifts with <code>BreakoutDetection</code></h2>
<p><code>BreakoutDetection</code> is a package that allows to search data for mean level shifts by dividing it into timespans of change and those of stability in the presence of seasonal noise. Similar to <code>AnomalyDetection</code> the <code>BreakoutDetection</code> package is not available on CRAN but has to be obtained from Github.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages(  &quot;BreakoutDetection&quot;,   repos=&quot;http://ghrr.github.io/drat&quot;, type=&quot;source&quot;)</span>
<span class="kw">library</span>(BreakoutDetection)
<span class="kw">library</span>(dplyr)
<span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(magrittr)</code></pre>
<p>… again the workhorse function (<code>breakout()</code>) is picky and requires <em>“a data.frame which has ‘timestamp’ and ‘count’ components”</em> like our <code>page_views_br_clean</code>.</p>
<p>The function has two general options: one tweaks the minimum length of a timespan (<code>min.size</code>); the other one does determine how many mean level changes might occur during the whole time frame (<code>method</code>); and several method specific options, e.g. <code>decree</code>, <code>beta</code>, and <code>percent</code> which control the sensitivity adding further breakpoints. In the following case the last option tells the function that overall model fit should be increased by at least 5 percent if adding a breakpoint.</p>
<pre class="sourceCode r"><code class="sourceCode r">br &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw">breakout</span>(
    page_views_br_clean, 
    <span class="dt">min.size =</span> <span class="dv">30</span>, 
    <span class="dt">method   =</span> <span class="st">'multi'</span>, 
    <span class="dt">percent  =</span> <span class="fl">0.05</span>,
    <span class="dt">plot     =</span> <span class="ot">TRUE</span>
  )
br</code></pre>
<pre><code>## $loc
##  [1]  53 105 137 174 263 306 389 426 458 488 518 566 601 640 670 751 784
## 
## $time
## [1] 1.79
## 
## $pval
## [1] NA
## 
## $plot</code></pre>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
<p>In the following snippet we combine the break information with our page views data and can have a look at the dates at which the breaks occured.</p>
<pre class="sourceCode r"><code class="sourceCode r">breaks &lt;-<span class="st"> </span>page_views_clean[br$loc,]
breaks</code></pre>
<pre><code>##           date count lang  page rank  month title
## 53  2010-02-13  3327   en Syria 1802 201002 Syria
## 105 2010-04-08  5210   en Syria 1802 201004 Syria
## 137 2010-06-03  5176   en Syria 1802 201006 Syria
## 174 2010-07-14  3874   en Syria 1802 201007 Syria
## 263 2010-11-22  6090   en Syria 1802 201011 Syria
## 306 2010-12-05  6182   en Syria 1802 201012 Syria
## 389 2011-04-15  6113   en Syria 1802 201104 Syria
## 426 2011-05-12  8217   en Syria 1802 201105 Syria
## 458 2011-06-07  9442   en Syria 1802 201106 Syria
## 488 2011-07-04  4745   en Syria 1802 201107 Syria
## 518 2011-08-07  7506   en Syria 1802 201108 Syria
## 566 2011-10-22  7449   en Syria 1802 201110 Syria
## 601 2011-11-27  8492   en Syria 1802 201111 Syria
## 640 2012-01-31 11496   en Syria 1802 201201 Syria
## 670 2012-02-22 23197   en Syria 1802 201202 Syria
## 751 2012-06-04  9461   en Syria 1802 201206 Syria
## 784 2012-07-27 17383   en Syria 1802 201207 Syria</code></pre>
<p>Next, we add a span variable capturing which page_view observations belong to which span, allowing us to aggregate data.</p>
<pre class="sourceCode r"><code class="sourceCode r">page_views_clean$span &lt;-<span class="st"> </span><span class="dv">0</span>
for (d in breaks$date ) {
  page_views_clean$span[ page_views_clean$date &gt;<span class="st"> </span>d ] %&lt;&gt;%<span class="st"> </span><span class="kw">add</span>(<span class="dv">1</span>)
}

page_views_clean$mcount &lt;-<span class="st"> </span><span class="dv">0</span>
for (s in <span class="kw">unique</span>(page_views_clean$span) ) {
  iffer &lt;-<span class="st"> </span>page_views_clean$span ==<span class="st"> </span>s
page_views_clean$mcount[ iffer ] &lt;-<span class="st"> </span><span class="kw">mean</span>(page_views_clean$count[iffer])
}

spans &lt;-<span class="st"> </span>
<span class="st">  </span>page_views_clean  %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">as_data_frame</span>() %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(span) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(
    <span class="dt">start      =</span> <span class="kw">min</span>(date), 
    <span class="dt">end        =</span> <span class="kw">max</span>(date), 
    <span class="dt">length     =</span> end-start,
    <span class="dt">mean_count =</span> <span class="kw">round</span>(<span class="kw">mean</span>(count)),
    <span class="dt">min_count  =</span> <span class="kw">min</span>(count),
    <span class="dt">max_count  =</span> <span class="kw">max</span>(count),
    <span class="dt">var_count  =</span> <span class="kw">var</span>(count)
  )
spans</code></pre>
<pre><code>## Source: local data frame [18 x 8]
## 
##    span      start        end length mean_count min_count max_count
## 1     0 2010-01-01 2010-02-13     43       3662         0      4734
## 2     1 2010-02-14 2010-04-08     53       4768         0      8179
## 3     2 2010-04-10 2010-06-03     54       4900      3849      5741
## 4     3 2010-06-04 2010-07-14     40       3454         0      5270
## 5     4 2010-07-20 2010-11-22    125       5760      4172      8711
## 6     5 2010-11-24 2010-12-05     11       5488      4752      6182
## 7     6 2010-12-06 2011-04-15    130       7158      3725     22825
## 8     7 2011-04-16 2011-05-12     26      10075      6713     19661
## 9     8 2011-05-13 2011-06-07     25       6374      3672      9442
## 10    9 2011-06-08 2011-07-04     26       7135      4194     11989
## 11   10 2011-07-05 2011-08-07     33       4940      3395      9729
## 12   11 2011-08-08 2011-10-22     75       5729      3510     12574
## 13   12 2011-10-24 2011-11-27     34       8060      5195     13217
## 14   13 2011-11-28 2012-01-31     64       6479         0     11496
## 15   14 2012-02-01 2012-02-22     21      18015      7005     36378
## 16   15 2012-02-23 2012-06-04    102       9042         0     24728
## 17   16 2012-06-05 2012-07-27     52      12042      6464     25414
## 18   17 2012-07-28 2015-05-31   1037       7287         0    111331
## Variables not shown: var_count (dbl)</code></pre>
<p>Also, we can now plot the shifting mean.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(page_views_clean, <span class="kw">aes</span>(<span class="dt">x=</span>date, <span class="dt">y=</span>count) ) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">alpha=</span><span class="fl">0.5</span>, <span class="dt">color=</span><span class="st">&quot;steelblue&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y=</span>mcount), <span class="dt">alpha=</span><span class="fl">0.5</span>, <span class="dt">color=</span><span class="st">&quot;red2&quot;</span>, <span class="dt">size=</span><span class="fl">1.2</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">theme_bw</span>()</code></pre>
<div class="figure">
<img src="data:image/png;base64,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" />
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
